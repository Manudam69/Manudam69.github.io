---
import { languages } from "../i18n/ui";
import {
  getLangFromUrl,
  useTranslatedPath,
  useTranslations,
} from "../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const translatePath = useTranslatedPath(lang);

---

<ul class="list-inside p-4 w-fit ml-auto">
  {
    Object.entries(languages).map(([langPrefix, label]) => {
      if(langPrefix == lang) return <></>
      return(
        <li class="bg-secondary rounded-full py-2 px-6 my-1 text-primary">
          <a href={translatePath("/", langPrefix)}>
            {" "}
            <span class="font-black uppercase">{label}</span>
          </a>
        </li>
      )
    })
  }
</ul>
